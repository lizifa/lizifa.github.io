{"version":3,"sources":["components/pageHeader/index.js","response.js","components/loading/index.js","pages/home/index.js","pages/detail/index.js","components/backTop/index.js","components/follow/index.js","components/toast/index.js","index.js","assets/feature1.jpg","assets/feature2.jpg","assets/20210105231911.jpg","assets/favicon.ico","assets/sf.ico","assets/feature3.jpg"],"names":["PageHeaderComponent","onClick","window","toast","id","className","src","require","default","alt","style","color","marginTop","this","bind","padding","xmlns","version","viewBox","preserveAspectRatio","d","fill","Component","response","code","data","rief_content","category_id","cover_image","edit_type","html_content","is_english","is_gfw","is_original","link_url","type","mark_content","tag_ids","title","article_id","create_time","update_time","message","sysTime","LoadingComponent","state","show","setState","HomePage","loding","toggle","document","addEventListener","hidden","props","history","push","ref","child","jump","map","item","index","ReactMarkdown","DetailPage","infos","alert","match","params","find","v","scrollTo","source","renderContent","BackTopComponent","scrollBtn","getElementById","body","scrollTop","documentElement","display","moveFunc","number","time","spacingTime","spacingInex","nowTop","everTop","scrollTimer","setInterval","clearInterval","FollowComponent","nickname","wechat","clipboard","ClipboardJS","text","on","destroy","copy","ToastComponent","showToast","classList","add","remove","close","render","StrictMode","path","component","Home","exact","Detail"],"mappings":"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","file":"static/js/main.f04218d5.chunk.js","sourcesContent":["import React, { Component } from 'react';\r\n\r\nexport default class PageHeaderComponent extends Component {\r\n\tonClick = () => {\r\n\t\twindow.toast('正在努力创作~');\r\n\t\t// alert('正在努力创作~');\r\n\t};\r\n\trender() {\r\n\t\treturn (\r\n\t\t\t<header id=\"header\">\r\n\t\t\t\t<div className=\"site-branding\">\r\n\t\t\t\t\t<span>\r\n\t\t\t\t\t\t<img className=\"custom-logo avatar\" src={'' + require('../../assets/20210105231911.jpg').default} alt=\"\" />\r\n\t\t\t\t\t</span>\r\n\t\t\t\t\t<h3 className=\"blog-description\" style={{ color: '#fff', marginTop: '20px' }}>\r\n\t\t\t\t\t\t搬运工-CV工程师\r\n\t\t\t\t\t</h3>\r\n\t\t\t\t\t<div className=\"top-social\">\r\n\t\t\t\t\t\t<li>\r\n\t\t\t\t\t\t\t<span onClick={this.onClick.bind(this)}>\r\n\t\t\t\t\t\t\t\t<img src={require('../../assets/favicon.ico').default} style={{ padding: '6px' }} alt=\"\" />\r\n\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t<li>\r\n\t\t\t\t\t\t\t<span onClick={this.onClick.bind(this)}>\r\n\t\t\t\t\t\t\t\t<img src={require('../../assets/sf.ico').default} style={{ padding: '6px' }} alt=\"\" />\r\n\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t<li>\r\n\t\t\t\t\t\t\t<span onClick={this.onClick.bind(this)}>\r\n\t\t\t\t\t\t\t\t<img src=\"https://jensonhui.top/usr/themes/Akina/images/github.png\" alt=\"\" />\r\n\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t</li>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className=\"animation-header\">\r\n\t\t\t\t\t<div className=\"decor-wrapper\">\r\n\t\t\t\t\t\t<svg id=\"header-decor\" className=\"decor bottom\" xmlns=\"https://www.w3.org/2000/svg\" version=\"1.1\" viewBox=\"0 0 100 100\" preserveAspectRatio=\"none\">\r\n\t\t\t\t\t\t\t<path className=\"large left\" d=\"M0 0 L50 50 L0 100\" fill=\"rgba(255,255,255, .1)\"></path>\r\n\t\t\t\t\t\t\t<path className=\"large right\" d=\"M100 0 L50 50 L100 100\" fill=\"rgba(255,255,255, .1)\"></path>\r\n\t\t\t\t\t\t\t<path className=\"medium left\" d=\"M0 100 L50 50 L0 33.3\" fill=\"rgba(255,255,255, .3)\"></path>\r\n\t\t\t\t\t\t\t<path className=\"medium right\" d=\"M100 100 L50 50 L100 33.3\" fill=\"rgba(255,255,255, .3)\"></path>\r\n\t\t\t\t\t\t\t<path className=\"small left\" d=\"M0 100 L50 50 L0 66.6\" fill=\"rgba(255,255,255, .5)\"></path>\r\n\t\t\t\t\t\t\t<path className=\"small right\" d=\"M100 100 L50 50 L100 66.6\" fill=\"rgba(255,255,255, .5)\"></path>\r\n\t\t\t\t\t\t\t<path d=\"M0 99.9 L50 49.9 L100 99.9 L0 99.9\" fill=\"rgba(255,255,255, 1)\"></path>\r\n\t\t\t\t\t\t\t<path d=\"M48 52 L50 49 L52 52 L48 52\" fill=\"rgba(255,255,255, 1)\"></path>\r\n\t\t\t\t\t\t</svg>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</header>\r\n\t\t);\r\n\t}\r\n}\r\n","export const response = {\r\n\tcode: 200,\r\n\tdata: [\r\n\t\t{\r\n\t\t\tid: 14,\r\n\t\t\trief_content: '服务端渲染 vs 客户端渲染',\r\n\t\t\tcategory_id: '',\r\n\t\t\tcover_image: '',\r\n\t\t\tedit_type: '',\r\n\t\t\thtml_content:\r\n\t\t\t\t'<h1><a id=\"_0\"></a>概念</h1>\\n<p>SSR(Server Side Rendering) ：DOM树在服务端生成，而后返回给前端。即当前页面的内容是服务器生成好一次性给到浏览器的进行渲染的</p>\\n<p>CSR(Client Side Rendering)：是SPA的方式，渲染过程全部交给浏览器进行处理，服务器不参与任何渲染。页面初始加载的HTML文档中无内容，需要下载执行JS文件，由浏览器动态生成页面，并通过JS进行页面交互事件与状态管理</p>\\n<ul>\\n<li>\\n<p>CSR的方式 =&gt; 当请求某一个地址时，响应的preview里为空，之后执行[bundle].js,通过将js 相应回来的数据，再去拼接html结构，动态生成html节点，结合css显示出来；</p>\\n</li>\\n<li>\\n<p>SSR的方式 =&gt; 当请求某一个地址时，返回的preview里已经有了首屏的html结构，之后结合css显示出来</p>\\n</li>\\n</ul>\\n<p>所以ssr与csr的区别就是数据拼接HTML字符串这件事放在服务端还是客户端</p>\\n<h2><a id=\"SSR_11\"></a>使用SSR的利弊</h2>\\n<p>SSR的利弊</p>\\n<ul>\\n<li>\\n<p>更利于SEO。</p>\\n<ul>\\n<li>主流的SPA框架，都是先加载[bundle]js,再根据js动态渲染html节点,所以会有延迟，而SEO，对大多数搜索引擎，不识别JavaScript 内容，只识别 HTML 内容，SSR技术，在服务器就已经生成好了html代码，当用户访问该域名时，返回的生成好的html节点，</li>\\n</ul>\\n</li>\\n<li>\\n<p>更利于首屏渲染</p>\\n<ul>\\n<li>首屏的渲染是node发送过来的html字符串，并不依赖于js文件了，这就会使用户更快的看到页面的内容。尤其是针对大型单页应用，打包后文件体积比较大，普通客户端渲染加载所有所需文件时间较长，首页就会有一个很长的白屏等待时间。</li>\\n</ul>\\n</li>\\n<li>\\n<p>更有利于加载</p>\\n<ul>\\n<li>后端生成静态化文件。即生成缓存片段，这样就可以减少数据库查询浪费的时间了，且对于数据变化不大的页面非常高效</li>\\n</ul>\\n</li>\\n<li>\\n<p>SSR的局限</p>\\n<ul>\\n<li>服务端压力较大，本来是通过客户端完成渲染，现在统一到服务端node服务去做。尤其是高并发访问的情况，会大量占用服务端CPU资源；</li>\\n</ul>\\n</li>\\n<li>\\n<p>开发条件受限</p>\\n<ul>\\n<li>在服务端渲染中，只会执行到componentDidMount之前的生命周期钩子，因此项目引用的第三方的库也不可用其它生命周期钩子，这对引用库的选择产生了很大的限制；</li>\\n</ul>\\n</li>\\n<li>\\n<p>学习成本相对较高</p>\\n<ul>\\n<li>除了对webpack、React要熟悉，还需要掌握node、Koa2、express等相关技术。相对于客户端渲染，项目构建、部署过程更加复杂。</li>\\n</ul>\\n<h1><a id=\"CSR_32\"></a>CSR的利弊</h1>\\n<ul>\\n<li>不利于SEO–，对大多数搜索引擎，不识别JavaScript 内容，只识别 HTML 内容</li>\\n<li>整体加载完速度慢，从发送求请求到响应回来，再去动态渲染节点，白屏时间过长</li>\\n<li>降低服务器压力， 渲染的工作全部由客户端处理</li>\\n<li>客户端兼容性有可能不太好</li>\\n</ul>\\n</li>\\n</ul>\\n',\r\n\t\t\tis_english: '',\r\n\t\t\tis_gfw: '',\r\n\t\t\tis_original: '1',\r\n\t\t\tlink_url: { type: 'Buffer', data: [] },\r\n\t\t\tmark_content:\r\n\t\t\t\t'# 概念\\nSSR(Server Side Rendering) ：DOM树在服务端生成，而后返回给前端。即当前页面的内容是服务器生成好一次性给到浏览器的进行渲染的\\n\\nCSR(Client Side Rendering)：是SPA的方式，渲染过程全部交给浏览器进行处理，服务器不参与任何渲染。页面初始加载的HTML文档中无内容，需要下载执行JS文件，由浏览器动态生成页面，并通过JS进行页面交互事件与状态管理\\n\\n+ CSR的方式 => 当请求某一个地址时，响应的preview里为空，之后执行[bundle].js,通过将js 相应回来的数据，再去拼接html结构，动态生成html节点，结合css显示出来；\\n\\n+ SSR的方式 => 当请求某一个地址时，返回的preview里已经有了首屏的html结构，之后结合css显示出来\\n\\n所以ssr与csr的区别就是数据拼接HTML字符串这件事放在服务端还是客户端\\n\\n## 使用SSR的利弊\\nSSR的利弊\\n+ 更利于SEO。\\n  - 主流的SPA框架，都是先加载[bundle]js,再根据js动态渲染html节点,所以会有延迟，而SEO，对大多数搜索引擎，不识别JavaScript 内容，只识别 HTML 内容，SSR技术，在服务器就已经生成好了html代码，当用户访问该域名时，返回的生成好的html节点，\\n\\n+ 更利于首屏渲染\\n\\n  - 首屏的渲染是node发送过来的html字符串，并不依赖于js文件了，这就会使用户更快的看到页面的内容。尤其是针对大型单页应用，打包后文件体积比较大，普通客户端渲染加载所有所需文件时间较长，首页就会有一个很长的白屏等待时间。\\n+ 更有利于加载\\n  - 后端生成静态化文件。即生成缓存片段，这样就可以减少数据库查询浪费的时间了，且对于数据变化不大的页面非常高效 \\n\\n+ SSR的局限\\n  - 服务端压力较大，本来是通过客户端完成渲染，现在统一到服务端node服务去做。尤其是高并发访问的情况，会大量占用服务端CPU资源；\\n\\n+ 开发条件受限\\n  - 在服务端渲染中，只会执行到componentDidMount之前的生命周期钩子，因此项目引用的第三方的库也不可用其它生命周期钩子，这对引用库的选择产生了很大的限制；\\n\\n+ 学习成本相对较高\\n  - 除了对webpack、React要熟悉，还需要掌握node、Koa2、express等相关技术。相对于客户端渲染，项目构建、部署过程更加复杂。\\n\\n\\n  # CSR的利弊\\n\\n  + 不利于SEO–，对大多数搜索引擎，不识别JavaScript 内容，只识别 HTML 内容\\n  + 整体加载完速度慢，从发送求请求到响应回来，再去动态渲染节点，白屏时间过长\\n  + 降低服务器压力， 渲染的工作全部由客户端处理\\n  + 客户端兼容性有可能不太好',\r\n\t\t\ttag_ids: '[\"6809637767543259144\"]',\r\n\t\t\ttitle: 'ssr vs csr',\r\n\t\t\tarticle_id: 'c32d39b078ba64ccb0efb4bcf6d2c5d7',\r\n\t\t\tcreate_time: '1611730768000',\r\n\t\t\tupdate_time: '1611730768000',\r\n\t\t},\r\n\t\t{\r\n\t\t\tid: 11,\r\n\t\t\trief_content: '纯函数是所有函数式编程语言中使用的概念，这是一个非常重要的概念，因为它是函数式编程的基础，它允许你创建简单和复杂的组合模式。',\r\n\t\t\tcategory_id: '',\r\n\t\t\tcover_image: '',\r\n\t\t\tedit_type: '',\r\n\t\t\thtml_content:\r\n\t\t\t\t'<h1><a id=\"_0\"></a>纯函数定义</h1>\\n<p>函数的返回结果只依赖于它的参数，并且在执行过程里面没有副作用</p>\\n<p>例如：</p>\\n<pre><code class=\"lang-\">function foo(x, b) {\\n  return x + y\\n}\\n</code></pre>\\n<p>现在 foo 的返回结果只依赖于它的参数 x 和 b，foo(1, 2) 永远是 3。今天是 3，明天也是 3，在服务器跑是 3，在客户端跑也 3，不管你外部发生了什么变化，foo(1, 2) 永远是 3。只要 foo 代码不改变，你传入的参数是确定的，那么 foo(1, 2) 的值永远是可预料的。</p>\\n<p>这就是纯函数的第一个条件：函数的返回结果只依赖于它的参数</p>\\n<p>函数执行过程没有副作用<br />\\n函数执行过程对产生了外部可观察的变化那么就说这个函数是有副作用的。</p>\\n<pre><code class=\"lang-\">const a = 1\\nconst foo = (obj, b) =&gt; {\\n  return obj.x + b\\n}\\nconst user = { age: 1 }\\nfoo(user, 2) // =&gt; 3\\nuser.age // =&gt; 1\\n</code></pre>\\n<p>我们把原来的 x 换成了 obj，我现在可以往里面传一个对象进行计算，计算的过程里面并不会对传入的对象进行修改，计算前后的 user 不会发生任何变化，计算前是 1，计算后也是 1，它现在是纯的。但是我再稍微修改一下它：</p>\\n<pre><code class=\"lang-const\">const foo = (obj, b) =&gt; {\\n  obj.age = 28\\n  return obj.x + b\\n}\\nconst user = { age: 1 }\\nfoo(user, 2) // =&gt; 4\\nuser.x // =&gt; 2\\n</code></pre>\\n<p>现在情况发生了变化，我在 foo 内部加了一句 obj.x = 2，计算前 user.x 是 1，但是计算以后 user.x 是 2。foo 函数的执行对外部的 user 产生了影响，它产生了副作用，因为它修改了外部传进来的对象，现在它是不纯的。</p>\\n<p>但是你在函数内部构建的变量，然后进行数据的修改不是副作用：</p>\\n<pre><code class=\"lang-\">const foo = (b) =&gt; {\\n  const obj = { x: 1 }\\n  obj.x = 2\\n  return obj.x + b\\n}\\n</code></pre>\\n<p>虽然 foo 函数内部修改了 obj，但是 obj 是内部变量，外部程序根本观察不到，修改 obj 并不会产生外部可观察的变化，这个函数是没有副作用的，因此它是一个纯函数。</p>\\n<hr />\\n<pre><code class=\"lang-\">function getDouble(num: number): number {\\n  return num * 2\\n}\\n</code></pre>\\n<p>getDouble 函数不是一个纯函数，因为它返回的结果并不等于输入的结果，我们在不知道 num 的值的情况下，并不能保证 getDouble(2) 的返回值是 3。虽然 getDouble 函数的代码实现并没有变化，传入的参数也没有变化，但它的返回值却是不可预料的，现在 getDouble(2) 是 3，可能过了一会就是 4 了，因为 a 可能发生了变化变成了 2。</p>\\n<h1><a id=\"_59\"></a>纯函数的好处</h1>\\n<p>为什么要煞费苦心地构建纯函数？因为纯函数非常“靠谱”，执行一个纯函数你不用担心它会干什么坏事，它不会产生不可预料的行为，也不会对外部产生影响。不管何时何地，你给它什么它就会乖乖地吐出什么。如果你的应用程序大多数函数都是由纯函数组成，那么你的程序测试、调试起来会非常方便。</p>\\n',\r\n\t\t\tis_english: '',\r\n\t\t\tis_gfw: '',\r\n\t\t\tis_original: '1',\r\n\t\t\tlink_url: { type: 'Buffer', data: [] },\r\n\t\t\tmark_content:\r\n\t\t\t\t'# 纯函数定义\\n函数的返回结果只依赖于它的参数，并且在执行过程里面没有副作用\\n\\n \\n例如：\\n\\n```\\nfunction foo(x, b) {\\n  return x + y\\n}\\n```\\n现在 foo 的返回结果只依赖于它的参数 x 和 b，foo(1, 2) 永远是 3。今天是 3，明天也是 3，在服务器跑是 3，在客户端跑也 3，不管你外部发生了什么变化，foo(1, 2) 永远是 3。只要 foo 代码不改变，你传入的参数是确定的，那么 foo(1, 2) 的值永远是可预料的。\\n\\n这就是纯函数的第一个条件：函数的返回结果只依赖于它的参数\\n\\n函数执行过程没有副作用\\n函数执行过程对产生了外部可观察的变化那么就说这个函数是有副作用的。\\n~~~\\nconst a = 1\\nconst foo = (obj, b) => {\\n  return obj.x + b\\n}\\nconst user = { age: 1 }\\nfoo(user, 2) // => 3\\nuser.age // => 1\\n~~~\\n\\n我们把原来的 x 换成了 obj，我现在可以往里面传一个对象进行计算，计算的过程里面并不会对传入的对象进行修改，计算前后的 user 不会发生任何变化，计算前是 1，计算后也是 1，它现在是纯的。但是我再稍微修改一下它：\\n\\n~~~const a = 1\\nconst foo = (obj, b) => {\\n  obj.age = 28\\n  return obj.x + b\\n}\\nconst user = { age: 1 }\\nfoo(user, 2) // => 4\\nuser.x // => 2\\n~~~\\n\\n现在情况发生了变化，我在 foo 内部加了一句 obj.x = 2，计算前 user.x 是 1，但是计算以后 user.x 是 2。foo 函数的执行对外部的 user 产生了影响，它产生了副作用，因为它修改了外部传进来的对象，现在它是不纯的。\\n\\n但是你在函数内部构建的变量，然后进行数据的修改不是副作用：\\n~~~\\nconst foo = (b) => {\\n  const obj = { x: 1 }\\n  obj.x = 2\\n  return obj.x + b\\n}\\n~~~\\n虽然 foo 函数内部修改了 obj，但是 obj 是内部变量，外部程序根本观察不到，修改 obj 并不会产生外部可观察的变化，这个函数是没有副作用的，因此它是一个纯函数。\\n\\n---\\n```\\nfunction getDouble(num: number): number {\\n  return num * 2\\n}\\n```\\ngetDouble 函数不是一个纯函数，因为它返回的结果并不等于输入的结果，我们在不知道 num 的值的情况下，并不能保证 getDouble(2) 的返回值是 3。虽然 getDouble 函数的代码实现并没有变化，传入的参数也没有变化，但它的返回值却是不可预料的，现在 getDouble(2) 是 3，可能过了一会就是 4 了，因为 a 可能发生了变化变成了 2。\\n\\n# 纯函数的好处\\n\\n为什么要煞费苦心地构建纯函数？因为纯函数非常“靠谱”，执行一个纯函数你不用担心它会干什么坏事，它不会产生不可预料的行为，也不会对外部产生影响。不管何时何地，你给它什么它就会乖乖地吐出什么。如果你的应用程序大多数函数都是由纯函数组成，那么你的程序测试、调试起来会非常方便。',\r\n\t\t\ttag_ids: '[\"6809637767543259144\"]',\r\n\t\t\ttitle: '纯函数, 函数式编程的基础',\r\n\t\t\tarticle_id: '186c07c6c070ae2e25abfc855cf1c9b4',\r\n\t\t\tcreate_time: '1611157938494',\r\n\t\t\tupdate_time: '1611157938494',\r\n\t\t},\r\n\t\t{\r\n\t\t\tid: 9,\r\n\t\t\trief_content: 'Express.js是一个轻量且灵活的Node.js WEB应用框架，可以快速搭建WEB应用。其底层是对Node.js的HTTP模块进行封装，增加路由、中间件等特性，使得用户能搭建应用级别的WEB服务',\r\n\t\t\tcategory_id: '',\r\n\t\t\tcover_image: '',\r\n\t\t\tedit_type: '',\r\n\t\t\thtml_content:\r\n\t\t\t\t'<h1><a id=\"RESTful_0\"></a>RESTful服务</h1>\\n<p>REST(Representational State Transfer)的意思是表征状态转移，它是一种基于HTTP协议的网络应用接口风格，充分利用HTTP的方法实现统一风格接口的服务。通过动词（HTTP方法）+名词（请求资源的接口路径）的方式请求资源，赋予接口特定的含义。</p>\\n<p>REST风格定义了一系列创建HTTP服务的惯例：</p>\\n<ul>\\n<li>POST：创建资源</li>\\n<li>PUT：更新资源</li>\\n<li>GET：读取资源</li>\\n<li>DELETE：删除资源</li>\\n</ul>\\n<p>例如：</p>\\n<ol>\\n<li>获取所有书籍记录： GET=&gt; /api/books</li>\\n<li>获取id为1的书籍： GET =&gt; /api/books/1</li>\\n<li>更新id为1的书籍：PUT =&gt; /api/books/1</li>\\n<li>删除id为1的书籍：DELETE =&gt; /api/books/1</li>\\n<li>创建一条书籍记录：POST =&gt; /api/books</li>\\n</ol>\\n<h4><a id=\"Express__RESTful_API_18\"></a>Express 构建 RESTful API</h4>\\n<p>Express.js是一个轻量且灵活的Node.js WEB应用框架，可以快速搭建WEB应用。其底层是对Node.js的HTTP模块进行封装，增加路由、中间件等特性，使得用户能搭建应用级别的WEB服务。接下来我们就来尝试下一下编辑的的接口，不再需要依赖后端了。</p>\\n<ol>\\n<li>首先要先创建一个工程目录`` 按住键盘 win+r 打开运行命令弹窗，输入 cmd， 回车进入命令行<br />\\n安装express，并新建一个新的express项目</li>\\n<li>选择一个自己磁盘的目录，创建一个工程目录，比如 <code>mkdir camp-express &amp;&amp; cd camp-express</code>, 创建一个工程目录并进入该工程。</li>\\n<li>初始化该工程 <code>npm init -y</code> 之后会生成一个 package.json 文件。</li>\\n</ol>\\n<pre><code class=\"lang-\">{\\n  &quot;name&quot;: &quot;camp-express&quot;,\\n  &quot;version&quot;: &quot;1.0.0&quot;,\\n  &quot;description&quot;: &quot;&quot;,\\n  &quot;main&quot;: &quot;index.js&quot;,\\n  &quot;scripts&quot;: {\\n    &quot;test&quot;: &quot;echo \\\\&quot;Error: no test specified\\\\&quot; &amp;&amp; exit 1&quot;\\n  },\\n  &quot;keywords&quot;: [],\\n  &quot;author&quot;: &quot;&quot;,\\n  &quot;license&quot;: &quot;ISC&quot;\\n}\\n\\n</code></pre>\\n<ol start=\"4\">\\n<li>我们创建如下开发目录：</li>\\n</ol>\\n<pre><code class=\"lang-\">&gt; camp-express\\n &gt; router \\n &gt; src\\n &gt; public \\n  .gitignore\\n  .prettierrc\\n  package.json\\n</code></pre>\\n<p>现在安装项目需要的依赖：</p>\\n<pre><code class=\"lang-\">$ npm install -g express body-parser\\n</code></pre>\\n<pre><code class=\"lang-\">{\\n  &quot;name&quot;: &quot;camp-express&quot;,\\n  &quot;version&quot;: &quot;1.0.0&quot;,\\n  &quot;description&quot;: &quot;&quot;,\\n  &quot;main&quot;: &quot;index.js&quot;,\\n  &quot;scripts&quot;: {\\n    &quot;test&quot;: &quot;echo \\\\&quot;Error: no test specified\\\\&quot; &amp;&amp; exit 1&quot;\\n  },\\n  &quot;keywords&quot;: [],\\n  &quot;author&quot;: &quot;&quot;,\\n  &quot;license&quot;: &quot;ISC&quot;,\\n  &quot;dependencies&quot;: {\\n    &quot;body-parser&quot;: &quot;^1.19.0&quot;,\\n    &quot;express&quot;: &quot;^4.17.1&quot;\\n  }\\n}\\n</code></pre>\\n<p>我们先来打开 app.js 创建的 express 的应用</p>\\n<pre><code class=\"lang-\">// 引入express框架\\nvar express = require(\\'express\\');\\n// 创建网站服务器\\nvar app = express();\\n// create application/json parser\\nvar bodyParser = require(\\'body-parser\\')\\n// create application/x-www-form-urlencoded parser\\napp.use(bodyParser.urlencoded({ extended: false}))\\napp.use(bodyParser.json())\\n\\n// 服务器监听6000端口\\napp.listen(6000, function () {\\n  console.log(\\'Example app listening on port 6000!\\')\\n})\\n</code></pre>\\n<p>修改一下 <code>package.json</code> 文件</p>\\n<pre><code class=\"lang-\">{\\n  &quot;name&quot;: &quot;camp-express&quot;,\\n  &quot;version&quot;: &quot;1.0.0&quot;,\\n  &quot;description&quot;: &quot;&quot;,\\n  &quot;main&quot;: &quot;index.js&quot;,\\n  &quot;scripts&quot;: {\\n    &quot;start&quot;: &quot;nodemon src/app.js&quot;,\\n    &quot;test&quot;: &quot;echo \\\\&quot;Error: no test specified\\\\&quot; &amp;&amp; exit 1&quot;\\n  },\\n  &quot;keywords&quot;: [],\\n  &quot;author&quot;: &quot;&quot;,\\n  &quot;license&quot;: &quot;ISC&quot;,\\n  &quot;dependencies&quot;: {\\n    &quot;body-parser&quot;: &quot;^1.19.0&quot;,\\n    &quot;express&quot;: &quot;^4.17.1&quot;\\n  }\\n}\\n</code></pre>\\n<p>现在启动一下这个服务 命令行中输入 <code>yarn start</code></p>\\n<pre><code class=\"lang-\">D:\\\\github\\\\camp-express&gt;yarn start \\nyarn run v1.22.10\\n$ nodemon src/app.js\\n[nodemon] 2.0.6\\n[nodemon] to restart at any time, enter `rs`\\n[nodemon] watching path(s): *.*\\n[nodemon] watching extensions: js,mjs,json  \\n[nodemon] starting `node src/app.js`        \\nhttp://127.0.0.1:6000\\n</code></pre>\\n<p>现在创建我们的书籍路由，进入router目录 <code>cd router</code>, 编辑 books.js 文件</p>\\n<pre><code class=\"lang-var\">var router = express.Router()\\n\\nconst books = [\\n  { id: 1, name: \\'book1\\' },\\n  { id: 2, name: \\'book2\\' },\\n  { id: 3, name: \\'book3\\' },\\n]\\n\\nrouter.get(\\'/books\\', function (req, res) {\\n  res.json(books)\\n})\\n\\nrouter.get(\\'/books/:id\\', function (req, res) {\\n  let book = books.find((b) =&gt; b.id === parseInt(req.params.id))\\n  if (!book){\\n    return res.status(404).json({ msg: \\'The book with the given ID not find.\\' })\\n  }\\n  res.json(book)\\n})\\n\\nmodule.exports = router //暴露这个 router模块\\n</code></pre>\\n<p>回到我们的 <code>app.js</code>, 引入我们刚才编辑的 <code>books.js</code></p>\\n<pre><code class=\"lang-\">+ var booksRouter = require(\\'../router/books\\')\\n+ app.use(\\'/api\\', booksRouter)\\n</code></pre>\\n<p>处理GET请求</p>\\n<p>测试一下我们的接口是否能跑通</p>\\n<pre><code class=\"lang-\">Microsoft Windows [版本 10.0.18363.1316]\\n(c) 2019 Microsoft Corporation。保留所有权利。\\n\\nD:\\\\github\\\\camp-express&gt;curl http://127.0.0.1:6000/api/books // 获取书籍列表\\n[{&quot;id&quot;:1,&quot;name&quot;:&quot;book1&quot;},{&quot;id&quot;:2,&quot;name&quot;:&quot;book2&quot;},{&quot;id&quot;:3,&quot;name&quot;:&quot;book3&quot;}]\\n</code></pre>\\n<p>所以我们的获取列表数据接口也是成功的</p>\\n<pre><code class=\"lang-\">D:\\\\github\\\\camp-express&gt;curl http://127.0.0.1:6000/api/books/2 // 获取id为2书籍\\n{&quot;id&quot;:2,&quot;name&quot;:&quot;book2&quot;}\\n\\nD:\\\\github\\\\camp-express&gt;curl http://127.0.0.1:6000/api/books/5 // 获取id为5的书籍        \\n{&quot;msg&quot;:&quot;The book with the given ID not find.&quot;}\\n</code></pre>\\n<p>处理POST请求</p>\\n<p>现在编辑我们的 <code>books.js</code> 文件</p>\\n<pre><code class=\"lang-\">// 使用POST方法添加书籍\\n+ router.post(\\'/books\\', function (req, res) {\\n+   const {name} = req.body;\\n+   if (name){\\n+     return res.status(400).json({ msg: \\'参数name不能为空~\\' }).end()\\n+   }\\n+   const book = {\\n+       id: books.length + 1,\\n+        name\\n+   };\\n+   books.push(book);\\n+   res.json(book).end();\\n+ })\\n\\n</code></pre>\\n<p>测试一下我们的新增接口</p>\\n<pre><code class=\"lang-\">D:\\\\github\\\\camp-express&gt;curl -X POST -s &quot;http://localhost:6000/api/books&quot; -d &quot;name=xiaoshubao&quot; curl -X POST -s &quot;http://localhost:6000/api/books&quot; -d &quot;name=xiaoshubao&quot; // 新增一条\\n数据\\n{&quot;id&quot;:4,&quot;name&quot;:[&quot;xiaoshubao&quot;,&quot;xiaoshubao&quot;]}{&quot;id&quot;:5,&quot;name&quot;:[&quot;xiaoshubao&quot;,&quot;xiaoshubao&quot;]}\\n</code></pre>\\n<p>处理PUT请求</p>\\n<pre><code class=\"lang-\">+ // 使用PUT方法修改书籍\\n+ router.put(\\'/books/:id\\', (req, res) =&gt; {\\n+   let book = books.find((b) =&gt; b.id === parseInt(req.params.id))\\n+   const { name } = req.body\\n+   if (!book){\\n+       return res.status(404).json({ msg: \\'The book with the given ID not find.\\' })\\n+    }     \\n+    if (!name) {\\n+       return res.status(400).json({ msg: \\'参数name不能为空~\\' }).end()\\n+    }\\n+   book.name = name\\n+   res.json(book).end()\\n+ })\\n</code></pre>\\n<p>测试PUT方法</p>\\n<pre><code class=\"lang-\">D:\\\\github\\\\camp-express&gt;curl -X PUT -s &quot;http://localhost:6000/api/books/1&quot; -d &quot;name=change&quot; // 测试修改\\n{&quot;id&quot;:1,&quot;name&quot;:&quot;change&quot;}\\n</code></pre>\\n<p>处理DELETE</p>\\n<pre><code class=\"lang-\">+ // 使用DELETE方法删除书籍\\n+  router.delete(\\'/books/:id\\', (req, res) =&gt; {\\n+   let book = books.find((b) =&gt; b.id === parseInt(req.params.id))\\n+   if (!book) {\\n+      return res.status(404).json({ msg: \\'The book with the given ID not find.\\' })\\n+    }\\n+    const index = books.indexOf(book)\\n+    books.splice(index, 1)\\n+    res.json(book).end()\\n+  })\\n</code></pre>\\n<p>测试我们的删除接口</p>\\n<pre><code class=\"lang-\">D:\\\\github\\\\camp-express&gt;curl -X DELETE -s &quot;http://localhost:6000/api/books/1&quot; // 测试删除\\n{&quot;id&quot;:1,&quot;name&quot;:&quot;book1&quot;}\\n</code></pre>\\n',\r\n\t\t\tis_english: '',\r\n\t\t\tis_gfw: '',\r\n\t\t\tis_original: '1',\r\n\t\t\tlink_url: { type: 'Buffer', data: [] },\r\n\t\t\tmark_content:\r\n\t\t\t\t'# RESTful服务\\n\\n REST(Representational State Transfer)的意思是表征状态转移，它是一种基于HTTP协议的网络应用接口风格，充分利用HTTP的方法实现统一风格接口的服务。通过动词（HTTP方法）+名词（请求资源的接口路径）的方式请求资源，赋予接口特定的含义。\\n\\n REST风格定义了一系列创建HTTP服务的惯例：\\n  -  POST：创建资源\\n  -  PUT：更新资源\\n  -  GET：读取资源\\n  -  DELETE：删除资源\\n  \\n例如：\\n\\n1. 获取所有书籍记录： GET=> /api/books\\n2. 获取id为1的书籍： GET => /api/books/1\\n3. 更新id为1的书籍：PUT => /api/books/1\\n4. 删除id为1的书籍：DELETE => /api/books/1\\n5. 创建一条书籍记录：POST => /api/books\\n\\n#### Express 构建 RESTful API\\n Express.js是一个轻量且灵活的Node.js WEB应用框架，可以快速搭建WEB应用。其底层是对Node.js的HTTP模块进行封装，增加路由、中间件等特性，使得用户能搭建应用级别的WEB服务。接下来我们就来尝试下一下编辑的的接口，不再需要依赖后端了。\\n\\n1. 首先要先创建一个工程目录`` 按住键盘 win+r 打开运行命令弹窗，输入 cmd， 回车进入命令行\\n安装express，并新建一个新的express项目\\n2. 选择一个自己磁盘的目录，创建一个工程目录，比如 `mkdir camp-express && cd camp-express`, 创建一个工程目录并进入该工程。\\n3. 初始化该工程 `npm init -y` 之后会生成一个 package.json 文件。\\n```\\n{\\n  \"name\": \"camp-express\",\\n  \"version\": \"1.0.0\",\\n  \"description\": \"\",\\n  \"main\": \"index.js\",\\n  \"scripts\": {\\n    \"test\": \"echo \\\\\"Error: no test specified\\\\\" && exit 1\"\\n  },\\n  \"keywords\": [],\\n  \"author\": \"\",\\n  \"license\": \"ISC\"\\n}\\n\\n```\\n \\n4. 我们创建如下开发目录：\\n```\\n> camp-express\\n > router \\n > src\\n > public \\n  .gitignore\\n  .prettierrc\\n  package.json\\n```\\n\\n现在安装项目需要的依赖：\\n```\\n$ npm install -g express body-parser\\n```\\n\\n```\\n{\\n  \"name\": \"camp-express\",\\n  \"version\": \"1.0.0\",\\n  \"description\": \"\",\\n  \"main\": \"index.js\",\\n  \"scripts\": {\\n    \"test\": \"echo \\\\\"Error: no test specified\\\\\" && exit 1\"\\n  },\\n  \"keywords\": [],\\n  \"author\": \"\",\\n  \"license\": \"ISC\",\\n  \"dependencies\": {\\n    \"body-parser\": \"^1.19.0\",\\n    \"express\": \"^4.17.1\"\\n  }\\n}\\n```\\n\\n我们先来打开 app.js 创建的 express 的应用\\n```\\n// 引入express框架\\nvar express = require(\\'express\\');\\n// 创建网站服务器\\nvar app = express();\\n// create application/json parser\\nvar bodyParser = require(\\'body-parser\\')\\n// create application/x-www-form-urlencoded parser\\napp.use(bodyParser.urlencoded({ extended: false}))\\napp.use(bodyParser.json())\\n\\n// 服务器监听6000端口\\napp.listen(6000, function () {\\n  console.log(\\'Example app listening on port 6000!\\')\\n})\\n```\\n\\n修改一下 `package.json` 文件\\n```\\n{\\n  \"name\": \"camp-express\",\\n  \"version\": \"1.0.0\",\\n  \"description\": \"\",\\n  \"main\": \"index.js\",\\n  \"scripts\": {\\n    \"start\": \"nodemon src/app.js\",\\n    \"test\": \"echo \\\\\"Error: no test specified\\\\\" && exit 1\"\\n  },\\n  \"keywords\": [],\\n  \"author\": \"\",\\n  \"license\": \"ISC\",\\n  \"dependencies\": {\\n    \"body-parser\": \"^1.19.0\",\\n    \"express\": \"^4.17.1\"\\n  }\\n}\\n```\\n\\n现在启动一下这个服务 命令行中输入 `yarn start`\\n```\\nD:\\\\github\\\\camp-express>yarn start \\nyarn run v1.22.10\\n$ nodemon src/app.js\\n[nodemon] 2.0.6\\n[nodemon] to restart at any time, enter `rs`\\n[nodemon] watching path(s): *.*\\n[nodemon] watching extensions: js,mjs,json  \\n[nodemon] starting `node src/app.js`        \\nhttp://127.0.0.1:6000\\n```\\n\\n现在创建我们的书籍路由，进入router目录 `cd router`, 编辑 books.js 文件\\n\\n```var express = require(\\'express\\')\\nvar router = express.Router()\\n\\nconst books = [\\n  { id: 1, name: \\'book1\\' },\\n  { id: 2, name: \\'book2\\' },\\n  { id: 3, name: \\'book3\\' },\\n]\\n\\nrouter.get(\\'/books\\', function (req, res) {\\n  res.json(books)\\n})\\n\\nrouter.get(\\'/books/:id\\', function (req, res) {\\n  let book = books.find((b) => b.id === parseInt(req.params.id))\\n  if (!book){\\n    return res.status(404).json({ msg: \\'The book with the given ID not find.\\' })\\n  }\\n  res.json(book)\\n})\\n\\nmodule.exports = router //暴露这个 router模块\\n```\\n\\n回到我们的 `app.js`, 引入我们刚才编辑的 `books.js`\\n\\n\\n```\\n+ var booksRouter = require(\\'../router/books\\')\\n+ app.use(\\'/api\\', booksRouter)\\n```\\n\\n处理GET请求\\n\\n测试一下我们的接口是否能跑通\\n```\\nMicrosoft Windows [版本 10.0.18363.1316]\\n(c) 2019 Microsoft Corporation。保留所有权利。\\n\\nD:\\\\github\\\\camp-express>curl http://127.0.0.1:6000/api/books // 获取书籍列表\\n[{\"id\":1,\"name\":\"book1\"},{\"id\":2,\"name\":\"book2\"},{\"id\":3,\"name\":\"book3\"}]\\n```\\n所以我们的获取列表数据接口也是成功的\\n\\n\\n```\\nD:\\\\github\\\\camp-express>curl http://127.0.0.1:6000/api/books/2 // 获取id为2书籍\\n{\"id\":2,\"name\":\"book2\"}\\n\\nD:\\\\github\\\\camp-express>curl http://127.0.0.1:6000/api/books/5 // 获取id为5的书籍        \\n{\"msg\":\"The book with the given ID not find.\"}\\n```\\n\\n处理POST请求\\n\\n现在编辑我们的 `books.js` 文件\\n```\\n// 使用POST方法添加书籍\\n+ router.post(\\'/books\\', function (req, res) {\\n+   const {name} = req.body;\\n+   if (name){\\n+     return res.status(400).json({ msg: \\'参数name不能为空~\\' }).end()\\n+   }\\n+   const book = {\\n+       id: books.length + 1,\\n+        name\\n+   };\\n+   books.push(book);\\n+   res.json(book).end();\\n+ })\\n\\n```\\n\\n测试一下我们的新增接口\\n```\\nD:\\\\github\\\\camp-express>curl -X POST -s \"http://localhost:6000/api/books\" -d \"name=xiaoshubao\" curl -X POST -s \"http://localhost:6000/api/books\" -d \"name=xiaoshubao\" // 新增一条\\n数据\\n{\"id\":4,\"name\":[\"xiaoshubao\",\"xiaoshubao\"]}{\"id\":5,\"name\":[\"xiaoshubao\",\"xiaoshubao\"]}\\n```\\n\\n处理PUT请求\\n\\n```\\n+ // 使用PUT方法修改书籍\\n+ router.put(\\'/books/:id\\', (req, res) => {\\n+   let book = books.find((b) => b.id === parseInt(req.params.id))\\n+   const { name } = req.body\\n+   if (!book){\\n+       return res.status(404).json({ msg: \\'The book with the given ID not find.\\' })\\n+    }     \\n+    if (!name) {\\n+       return res.status(400).json({ msg: \\'参数name不能为空~\\' }).end()\\n+    }\\n+   book.name = name\\n+   res.json(book).end()\\n+ })\\n```\\n\\n测试PUT方法\\n```\\nD:\\\\github\\\\camp-express>curl -X PUT -s \"http://localhost:6000/api/books/1\" -d \"name=change\" // 测试修改\\n{\"id\":1,\"name\":\"change\"}\\n```\\n\\n处理DELETE\\n```\\n+ // 使用DELETE方法删除书籍\\n+  router.delete(\\'/books/:id\\', (req, res) => {\\n+   let book = books.find((b) => b.id === parseInt(req.params.id))\\n+   if (!book) {\\n+      return res.status(404).json({ msg: \\'The book with the given ID not find.\\' })\\n+    }\\n+    const index = books.indexOf(book)\\n+    books.splice(index, 1)\\n+    res.json(book).end()\\n+  })\\n```\\n\\n测试我们的删除接口\\n```\\nD:\\\\github\\\\camp-express>curl -X DELETE -s \"http://localhost:6000/api/books/1\" // 测试删除\\n{\"id\":1,\"name\":\"book1\"}\\n```',\r\n\t\t\ttag_ids: '[\"6809637769959178254\",\"6809637767543259144\",\"6809635626879549454\"]',\r\n\t\t\ttitle: '使用Express构建你的RESTful API',\r\n\t\t\tarticle_id: 'b635e22b393c87b4d45630846fc6f237',\r\n\t\t\tcreate_time: '1611151759183',\r\n\t\t\tupdate_time: '1611151759183',\r\n\t\t},\r\n\t\t{\r\n\t\t\tid: 8,\r\n\t\t\trief_content: 'npm install 命令用来安装模块到node_modules目录。 安装之前，npm install会先检查，node_modules目录之中是否已经存在指定模块。如果存在，就不再重新安装了，即使远程仓库已经有了一个新版本，也是如此。 如果想更新已安装模块，就要用到npm…',\r\n\t\t\tcategory_id: '',\r\n\t\t\tcover_image: '',\r\n\t\t\tedit_type: '',\r\n\t\t\thtml_content:\r\n\t\t\t\t'<h1><a id=\"npm_1\"></a>npm是什么</h1>\\n<blockquote>\\n<p>npm 是Node 的模块管理器，功能极其强大。 它是Node 获得成功的重要原因之一。 正因为有了npm，我们只要一行命令，就能安装别人写好的模块。</p>\\n</blockquote>\\n<h3><a id=\"npm_install_5\"></a><strong>npm install</strong></h3>\\n<p><a href=\"https://docs.npmjs.com/cli/install\" target=\"_blank\"><code>npm install</code></a> 命令用来安装模块到<code>node_modules</code>目录。</p>\\n<pre><code class=\"lang-\">$ npm install &lt;packageName&gt; \\n--save-dev -D 本地\\n--save -S 生产\\n-g 全局\\n$ npm uninstall &lt;packageName&gt;\\n</code></pre>\\n<p>安装之前，<code>npm install</code>会先检查，<code>node_modules</code>目录之中是否已经存在指定模块。如果存在，就不再重新安装了，即使远程仓库已经有了一个新版本，也是如此。</p>\\n<p>如果你希望，一个模块不管是否安装过，npm 都要<strong>强制重新安装</strong>（不需要删掉nodemodules），可以使用<code>-f</code>或<code>--force</code>参数</p>\\n<pre><div class=\"hljs\"><code class=\"lang-bash\">$ npm install &lt;packageName&gt; --force // 强制更新\\n</code></div></pre>\\n<h3><a id=\"npm_update_25\"></a><strong>npm update</strong></h3>\\n<p>如果想更新已安装模块，就要用到<a href=\"https://docs.npmjs.com/cli/update\" target=\"_blank\"><code>npm update</code></a>命令。</p>\\n<blockquote>\\n<pre><div class=\"hljs\"><code class=\"lang-bash\">$ npm update &lt;packageName&gt;\\n</code></div></pre>\\n</blockquote>\\n<p>它会先到远程仓库查询最新版本，然后查询本地版本。如果本地版本不存在，或者远程版本较新，就会安装。</p>\\n<h3><a id=\"_35\"></a><strong>模块的安装过程</strong></h3>\\n<ol>\\n<li>发出<code>npm install</code>命令</li>\\n<li>npm 向 registry 查询模块压缩包的网址</li>\\n<li>下载压缩包，存放在<code>~/.npm</code>目录</li>\\n<li>解压压缩包到当前项目的<code>node_modules</code>目录</li>\\n</ol>\\n<h1><a id=\"npm_44\"></a>npm常用指令</h1>\\n<pre><div class=\"hljs\"><code class=\"lang-js\">npm init --yes(初始化配置)  -y\\n\\nnpm i (会根据package.json里面的键dependencies，devDependencies来安装相对应的包)\\n\\nnpm i 包(默认安装一个最新的包，这个包在node_modules文件夹里面，并且会更新在你的package.json文件)\\n\\nnpm i 包@<span class=\"hljs-number\">3.0</span><span class=\"hljs-number\">.0</span>（安装一个指定版本的包，会更新在你的package.json文件）\\n\\nnpm i 包 --save-dev(安装一个开发环境所需要的包，会更新在你的package.json文件) -D\\nnpm i 包 --save(安装一个生产环境所需要的包，会更新在你的package.json文件) -S\\n\\nnpm uninstall 包（卸载一个包，会更新在你的package.json文件）\\n\\nnpm update 包(更新此包版本为最新版本，会更新在你的package.json文件)\\n\\nnpm run 脚本键(会根据package.json里面的<span class=\"hljs-string\">\"scripts\"</span>里面的脚本键自动执行相对于的值)\\n\\nnpm publish  (根据package.json的name发布一个包) 发布到npm仓库\\n\\nnpm unpublish 包名 --force(卸载npm网站上自己上传的包)\\n</code></div></pre>\\n<h1><a id=\"packageJson_69\"></a>packageJson文件配置</h1>\\n<pre><div class=\"hljs\"><code class=\"lang-json\">{\\n\\t<span class=\"hljs-attr\">\"name\"</span>: <span class=\"hljs-string\">\"axios\"</span>, //发布的包名，默认是上级文件夹名。不得与现在npm中的包名重复。包名不能有大写字母/空格/下滑线!\\n  <span class=\"hljs-attr\">\"version\"</span>: <span class=\"hljs-string\">\"2.2.2\"</span>,//你这个包的版本，默认是1.0.0。对于npm包的版本号有着一系列的规则，模块的版本号采用X.Y.Z的格式，具体体现为：\\n  1、修复bug，小改动，增加z。\\n  2、增加新特性，可向后兼容，增加y\\n  3、有很大的改动，无法向下兼容,增加x\\n  <span class=\"hljs-attr\">\"description\"</span>: <span class=\"hljs-string\">\"用来请求接口，懂了吗二货\"</span>, // 介绍\\n  <span class=\"hljs-attr\">\"main\"</span>: <span class=\"hljs-string\">\"index.js\"</span>,// 入口文件，默认是Index.js，可以修改成自己的文件,这个很重要，当你在实际项目使用的时候，let a = require(<span class=\"hljs-attr\">\"包名\"</span>)，它就去会去找对应的文件路径哦。\\n  <span class=\"hljs-attr\">\"scripts\"</span>: {                  // 快捷命令，在package.json同目录下输入命令 npm run 键 就会执行 相对应的命令\\n    <span class=\"hljs-attr\">\"bulid\"</span>: <span class=\"hljs-string\">\"npx webpack --config myConfig.js\"</span>,\\n  \\t<span class=\"hljs-attr\">\"start\"</span>: <span class=\"hljs-string\">\"xxx\"</span>,\\n  \\t//例如 输入 npm run bulid 就会执行npx webpack --config myConfig.js的命令 。\\n  \\t// npm start 省略run\\n  },\\n  <span class=\"hljs-attr\">\"keywords\"</span>: [],\\n  <span class=\"hljs-attr\">\"author\"</span>: <span class=\"hljs-string\">\"王二蛋\"</span>,\\n  <span class=\"hljs-attr\">\"license\"</span>: <span class=\"hljs-string\">\"ISC\"</span>,// 这个直接回车，开源文件协议吧，也可以是MIT，看需要吧。\\n  <span class=\"hljs-attr\">\"dependencies\"</span>: {             // 生产环境所依赖的包\\n    <span class=\"hljs-attr\">\"jquery\"</span>: <span class=\"hljs-string\">\"^3.4.1\"</span>,\\n    <span class=\"hljs-attr\">\"sea\"</span>: <span class=\"hljs-string\">\"^1.0.2\"</span>\\n  },\\n  <span class=\"hljs-attr\">\"devDependencies\"</span>: {          // 开发环境所依赖的包\\n    <span class=\"hljs-attr\">\"webpack\"</span>: <span class=\"hljs-string\">\"^4.41.6\"</span>\\n  }\\n}\\n</code></div></pre>\\n<h1><a id=\"npm_101\"></a>更改npm默认的下载路径和缓存路径</h1>\\n<p>npm config ls 命令可查看npm的安装信息以及默认的下载路径。</p>\\n<pre><div class=\"hljs\"><code class=\"lang-bash\">D:\\\\software\\\\cmder\\\\cmder&gt;npm config ls\\n; cli configs\\nmetrics-registry = <span class=\"hljs-string\">\"https://registry.npmjs.org/\"</span>\\nscope = <span class=\"hljs-string\">\"\"</span>\\nuser-agent = <span class=\"hljs-string\">\"npm/6.13.4 node/v12.14.0 win32 x64\"</span>\\n\\n; <span class=\"hljs-built_in\">builtin</span> config undefined\\nprefix = <span class=\"hljs-string\">\"C:\\\\\\\\Users\\\\\\\\DELL\\\\\\\\AppData\\\\\\\\Roaming\\\\\\\\npm\"</span>\\n\\n; node bin location = D:\\\\SoftWareInstall\\\\nodejsIns\\\\node.exe\\n; cwd = D:\\\\software\\\\cmder\\\\cmder\\n; HOME = C:\\\\Users\\\\DELL\\n; <span class=\"hljs-string\">\"npm config ls -l\"</span> to show all defaults.\\n</code></div></pre>\\n<p>注意，npm默认的下载路径在C:\\\\Users\\\\DELL\\\\AppData\\\\Roaming\\\\npm，其中AppData是隐藏文件夹，在【查看】菜单中勾选【隐藏的项目】才可以看到AppData文件夹。</p>\\n<p>???</p>\\n<pre><div class=\"hljs\"><code class=\"lang-java\"><span class=\"hljs-comment\">// 更改npm默认的缓存路径</span>\\nnpm config set cache <span class=\"hljs-string\">\"D:\\\\TempDate\\\\nodedata\\\\cache\"</span>\\n\\n<span class=\"hljs-comment\">// 更改npm默认的下载路径</span>\\nnpm config set prefix <span class=\"hljs-string\">\"D:\\\\TempDate\\\\nodedata\\\\download\"</span>\\n</code></div></pre>\\n<p>更改缓存路径和下载路径后，再次查看</p>\\n<pre><div class=\"hljs\"><code class=\"lang-java\">D:\\\\software\\\\cmder\\\\cmder&gt;npm config ls\\n\\n; userconfig C:\\\\Users\\\\DELL\\\\.npmrc\\ncache = <span class=\"hljs-string\">\"D:\\\\\\\\TempDate\\\\\\\\nodedata\\\\\\\\cache\"</span>\\nprefix = <span class=\"hljs-string\">\"D:\\\\\\\\TempDate\\\\\\\\nodedata\\\\\\\\download\"</span>\\n</code></div></pre>\\n<p>那么下面来介绍一下,如何创建自己的第一个node模块,并把这个模块上传到npm上面,让别人可以用我们的模块</p>\\n<h1><a id=\"node_150\"></a>创建第一个node模块</h1>\\n<p>Node.js模块就是发布到npm的代码包，</p>\\n<blockquote>\\n<p>创建一个新模块的第一步就是创建一个package.json文件。<br />\\n你可以用npm init来创建package.json文件。<br />\\n这个过程中命令行会逐步提示你输入这个模块的信息，<br />\\n其中模块的名字和版本号是必填项</p>\\n</blockquote>\\n<blockquote>\\n<p>你还需要一个入口文件，<br />\\n如果你使用默认值的话，那就会是index.js.<br />\\n创建完package.json文件之后，你就要开始写代码包里的内容了，<br />\\n这里举个最简单的例子，在默认的index.js里写一个要导出的函数，<br />\\n这个函数也就是别人的代码里可以import或者require的。</p>\\n</blockquote>\\n<pre><div class=\"hljs\"><code class=\"lang-jsx\">exports.showMsg = <span class=\"hljs-function\"><span class=\"hljs-keyword\">function</span> (<span class=\"hljs-params\"></span>) </span>{\\n  <span class=\"hljs-built_in\">console</span>.log(<span class=\"hljs-string\">\"This is my first module\"</span>);\\n};\\n</code></div></pre>\\n<p>这样的话,你的node模块就已经创建完成了</p>\\n<h3><a id=\"npm_174\"></a>如何发布到npm服务器上</h3>\\n<h5><a id=\"npm_176\"></a>注册一个npm账号</h5>\\n<h5><a id=\"npm_login__178\"></a>首次需要登录,<strong>npm login</strong> 存储证书到本地,后面就不需要每次都登录的</h5>\\n<p>登录需要输入用户名,密码,还有邮箱,这些都是刚刚注册时候填写的<br />\\nUserName： (<em><strong><strong><strong>)<br />\\nPassword： (</strong></strong></strong></em>)<br />\\nEmial： (*******)</p>\\n<h5><a id=\"_185\"></a>开始发布</h5>\\n<p><strong>npm publish</strong> 发布包</p>\\n<blockquote>\\n<p>使用 cnpm 的注意报错：<br />\\nno_perms Private mode enable, only admin can publish this module<br />\\n设置回原本的就可以了<br />\\n**npm config set registry <a href=\"https://link.jianshu.com?t=http://registry.npmjs.org\" target=\"_blank\">http://registry.npmjs.org</a> **<br />\\n发布完成之后,如果还想回到之前的cnpm,使用下面的命令<br />\\n<strong>npm config set registry <a href=\"https://link.jianshu.com?t=https://registry.npm.taobao.org\" target=\"_blank\">https://registry.npm.taobao.org</a></strong></p>\\n</blockquote>\\n<h3><a id=\"_196\"></a>创建一个案例,引用刚上传的包</h3>\\n<p>​</p>\\n<blockquote>\\n<p>假设已经成功发布了，并且包名叫做<strong>toniqian-test-module</strong>，<br />\\n这时候可以新建一个空目录，cd进去，运行npm install toniqian-test-module，然后在这个目录下会出现一个叫node_modules的文件夹，你之前写的包就会出现在这个文件夹下面。</p>\\n</blockquote>\\n<p>然后写一个index.js,代码如下</p>\\n<pre><div class=\"hljs\"><code class=\"lang-jsx\"><span class=\"hljs-keyword\">var</span> test = <span class=\"hljs-built_in\">require</span>(<span class=\"hljs-string\">\\'toniqian-test-module\\'</span>);\\ntest.showMsg();\\n</code></div></pre>\\n<p>运行index.js</p>\\n<pre><div class=\"hljs\"><code class=\"lang-css\"><span class=\"hljs-selector-tag\">node</span> <span class=\"hljs-selector-tag\">index</span><span class=\"hljs-selector-class\">.js</span>\\n</code></div></pre>\\n<p>那么刚刚上传的包,目前已经可以使用,到目前的话,<br />\\n你已经成功创建了一个npm包了</p>\\n<h3><a id=\"npm_223\"></a>如何更新npm包</h3>\\n<p>当你包的内容修改之后,比如</p>\\n<pre><div class=\"hljs\"><code class=\"lang-jsx\">exports.showMsg = <span class=\"hljs-function\"><span class=\"hljs-keyword\">function</span> (<span class=\"hljs-params\"></span>) </span>{\\n  <span class=\"hljs-built_in\">console</span>.log(<span class=\"hljs-string\">\"This is my second module\"</span>);\\n};\\n</code></div></pre>\\n<blockquote>\\n<p>修改了提示文字,那么我们需要 <strong>npm version &lt;update_type&gt;</strong><br />\\n<strong>update_type</strong>就是版本号的意思,会自动更新<strong>package.json</strong>里面的版本号<br />\\n然后重新 <strong>npm publish</strong>,更新就会完成</p>\\n</blockquote>\\n<p><strong>作业</strong> 实现一个相对时间转换函数</p>\\n<pre><div class=\"hljs\"><code class=\"lang-jsx\">moment(time){\\n  <span class=\"hljs-comment\">// 相对时间转换</span>\\n}\\n</code></div></pre>\\n<h3><a id=\"npm_247\"></a>如何删除npm包</h3>\\n<pre><code class=\"lang-\">npm unpublish kk-a-test --force\\n</code></pre>\\n<h3><a id=\"npm_253\"></a>查看当前登录的npm账号</h3>\\n<pre><code class=\"lang-\">npm whoami\\n</code></pre>\\n<p>输出 username</p>\\n<h1><a id=\"_261\"></a><strong>发布包错误集锦</strong></h1>\\n<p>1、需要提高版本号</p>\\n<pre><div class=\"hljs\"><code class=\"lang-ruby\"><span class=\"hljs-comment\">#1、发包 npm publish 失败</span>\\nsh-<span class=\"hljs-symbol\">neverleave:</span>z-tool neverleave$ npm publish\\nnpm ERR! publish Failed PUT <span class=\"hljs-number\">400</span>\\nnpm ERR! code E40<span class=\"hljs-number\">0</span>\\nnpm ERR! deprecations must be strings : z-tool\\n\\nnpm ERR! A complete log of this run can be found <span class=\"hljs-symbol\">in:</span>\\nnpm ERR!     <span class=\"hljs-regexp\">/Users/neverleave</span><span class=\"hljs-regexp\">/.npm/</span>_logs/<span class=\"hljs-number\">2018</span>-<span class=\"hljs-number\">11</span>-<span class=\"hljs-number\">23</span>T10_52_01_742Z-debug.log\\nsh-<span class=\"hljs-symbol\">neverleave:</span>z-tool neverleave$ npm publish\\n\\n\\n<span class=\"hljs-comment\">#2、发包 npm publish 失败</span>\\nsh-<span class=\"hljs-symbol\">neverleave:</span>z-tool neverleave$ npm publish\\nnpm ERR! publish Failed PUT <span class=\"hljs-number\">403</span>\\nnpm ERR! code E403\\nnpm ERR! You cannot publish over the previously published <span class=\"hljs-symbol\">versions:</span> <span class=\"hljs-number\">1.0</span>.<span class=\"hljs-number\">3</span>. : z-tool\\n\\nnpm ERR! A complete log of this run can be found <span class=\"hljs-symbol\">in:</span>\\nnpm ERR!     <span class=\"hljs-regexp\">/Users/neverleave</span><span class=\"hljs-regexp\">/.npm/</span>_logs/<span class=\"hljs-number\">2018</span>-<span class=\"hljs-number\">11</span>-<span class=\"hljs-number\">23</span>T11_24_57_662Z-debug.log\\nsh-<span class=\"hljs-symbol\">neverleave:</span>z-tool neverleave$ \\n</code></div></pre>\\n<p>2、发包 npm publish 失败<br />\\n解决方案：终端执行： npm publish --access public</p>\\n<p>参考：https://stackoverflow.com/questions/53420758/npm-publish-gives-unscoped-packages-cannot-be-private</p>\\n<pre><div class=\"hljs\"><code class=\"lang-ruby\"><span class=\"hljs-comment\">#1、发包 npm publish 失败</span>\\nsh-<span class=\"hljs-symbol\">neverleave:</span>npm neverleave$ npm publish\\nnpm ERR! publish Failed PUT <span class=\"hljs-number\">400</span>\\nnpm ERR! code E40<span class=\"hljs-number\">0</span>\\nnpm ERR! unscoped packages cannot be private : z-tool\\n\\nnpm ERR! A complete log of this run can be found <span class=\"hljs-symbol\">in:</span>\\nnpm ERR!     <span class=\"hljs-regexp\">/Users/neverleave</span><span class=\"hljs-regexp\">/.npm/</span>_logs/<span class=\"hljs-number\">2018</span>-<span class=\"hljs-number\">11</span>-<span class=\"hljs-number\">23</span>T08_44_21_310Z-debug.log\\nsh-<span class=\"hljs-symbol\">neverleave:</span>npm neverleave$ \\n\\n<span class=\"hljs-comment\">#解决方案：终端执行： npm publish --access public</span>\\nsh-<span class=\"hljs-symbol\">neverleave:</span>npm neverleave$ npm publish --access public\\n+ z-tool@1.<span class=\"hljs-number\">0</span>.<span class=\"hljs-number\">0</span>\\nsh-<span class=\"hljs-symbol\">neverleave:</span>npm neverleave$ \\n</code></div></pre>\\n<p>3、确保登录的用户账号正确</p>\\n<pre><code class=\"lang-swift\">sh-neverleave:npm neverleave$ npm publish\\nnpm ERR! publish Failed PUT 404\\nnpm ERR! code E404\\nnpm ERR! 404 User not found : z-tool\\nnpm ERR! 404 \\nnpm ERR! 404  \\'z-tool\\' is not in the npm registry.\\nnpm ERR! 404 You should bug the author to publish it (or use the name yourself!)\\nnpm ERR! 404 \\nnpm ERR! 404 Note that you can also install from a\\nnpm ERR! 404 tarball, folder, http url, or git url.\\n\\nnpm ERR! A complete log of this run can be found in:\\nnpm ERR!     /Users/neverleave/.npm/_logs/2018-11-23T07_32_28_518Z-debug.log\\n</code></pre>\\n<p>4、登录时需要在username 前加‘~’，具体大家可以验证</p>\\n<pre><code class=\"lang-kotlin\">sh-neverleave:npm neverleave$ npm login\\nUsername: (~neverleave) neverleave\\nPassword: (&lt;default hidden&gt;) \\nEmail: (this IS public) (1063588359@qq.com) \\nnpm ERR! code EAUTHIP\\nnpm ERR! Unable to authenticate, need: Basic\\n\\nnpm ERR! A complete log of this run can be found in:\\nnpm ERR!     /Users/neverleave/.npm/_logs/2018-11-23T07_27_50_877Z-debug.log\\nsh-neverleave:npm neverleave$ \\n</code></pre>\\n<p>5、无权限删除线上的包（撤包有时间限制，24小时）<br />\\n解决方案：加上 --force</p>\\n<pre><div class=\"hljs\"><code class=\"lang-bash\">sh-neverleave:z-tool neverleave$ npm unpublish z-tool\\nnpm ERR! Refusing to delete entire project.\\nnpm ERR! Run with --force to <span class=\"hljs-keyword\">do</span> this.\\nnpm ERR! npm unpublish [&lt;@scope&gt;/]&lt;pkg&gt;[@&lt;version&gt;]\\nsh-neverleave:z-tool neverleave$ \\n\\n<span class=\"hljs-comment\">#解决方案（内部有被鄙视的话，😄 I sure hope you know what you are doing.）</span>\\nsh-neverleave:z-tool neverleave$ npm unpublish z-tool --force\\nnpm WARN using --force I sure hope you know what you are doing.\\n- z-tool\\nsh-neverleave:z-tool neverleave$ \\n</code></div></pre>\\n<p>6、删除npm市场的包同名的24小时后才能重新发布</p>\\n<pre><div class=\"hljs\"><code class=\"lang-ruby\">sh-<span class=\"hljs-symbol\">neverleave:</span>z-tool neverleave$ npm publish\\nnpm ERR! publish Failed PUT <span class=\"hljs-number\">403</span>\\nnpm ERR! code E403\\nnpm ERR! z-tool cannot be republished <span class=\"hljs-keyword\">until</span> <span class=\"hljs-number\">24</span> hours have passed. : z-tool\\n\\nnpm ERR! A complete log of this run can be found <span class=\"hljs-symbol\">in:</span>\\nnpm ERR!     <span class=\"hljs-regexp\">/Users/neverleave</span><span class=\"hljs-regexp\">/.npm/</span>_logs/<span class=\"hljs-number\">2018</span>-<span class=\"hljs-number\">11</span>-<span class=\"hljs-number\">23</span>T11_41_24_086Z-debug.log\\nsh-<span class=\"hljs-symbol\">neverleave:</span>z-tool neverleave$ \\n</code></div></pre>\\n',\r\n\t\t\tis_english: '',\r\n\t\t\tis_gfw: '',\r\n\t\t\tis_original: '1',\r\n\t\t\tlink_url: { type: 'Buffer', data: [] },\r\n\t\t\tmark_content:\r\n\t\t\t\t'\\n# npm是什么\\n\\n> npm 是Node 的模块管理器，功能极其强大。 它是Node 获得成功的重要原因之一。 正因为有了npm，我们只要一行命令，就能安装别人写好的模块。\\n\\n### **npm install**\\n\\n[`npm install`](https://docs.npmjs.com/cli/install) 命令用来安装模块到`node_modules`目录。\\n\\n```\\n$ npm install <packageName> \\n--save-dev -D 本地\\n--save -S 生产\\n-g 全局\\n$ npm uninstall <packageName>\\n```\\n\\n安装之前，`npm install`会先检查，`node_modules`目录之中是否已经存在指定模块。如果存在，就不再重新安装了，即使远程仓库已经有了一个新版本，也是如此。\\n\\n如果你希望，一个模块不管是否安装过，npm 都要**强制重新安装**（不需要删掉nodemodules），可以使用`-f`或`--force`参数\\n\\n```bash\\n$ npm install <packageName> --force // 强制更新\\n```\\n\\n### **npm update**\\n\\n如果想更新已安装模块，就要用到[`npm update`](https://docs.npmjs.com/cli/update)命令。\\n\\n> ```bash\\n> $ npm update <packageName>\\n> ```\\n\\n它会先到远程仓库查询最新版本，然后查询本地版本。如果本地版本不存在，或者远程版本较新，就会安装。\\n\\n### **模块的安装过程**\\n\\n1. 发出`npm install`命令\\n2. npm 向 registry 查询模块压缩包的网址\\n3. 下载压缩包，存放在`~/.npm`目录\\n4. 解压压缩包到当前项目的`node_modules`目录\\n\\n\\n\\n# npm常用指令\\n\\n```js\\nnpm init --yes(初始化配置)  -y\\n\\nnpm i (会根据package.json里面的键dependencies，devDependencies来安装相对应的包)\\n\\nnpm i 包(默认安装一个最新的包，这个包在node_modules文件夹里面，并且会更新在你的package.json文件)\\n\\nnpm i 包@3.0.0（安装一个指定版本的包，会更新在你的package.json文件）\\n\\nnpm i 包 --save-dev(安装一个开发环境所需要的包，会更新在你的package.json文件) -D\\nnpm i 包 --save(安装一个生产环境所需要的包，会更新在你的package.json文件) -S\\n\\nnpm uninstall 包（卸载一个包，会更新在你的package.json文件）\\n\\nnpm update 包(更新此包版本为最新版本，会更新在你的package.json文件)\\n\\nnpm run 脚本键(会根据package.json里面的\"scripts\"里面的脚本键自动执行相对于的值)\\n\\nnpm publish  (根据package.json的name发布一个包) 发布到npm仓库\\n\\nnpm unpublish 包名 --force(卸载npm网站上自己上传的包)\\n```\\n\\n# packageJson文件配置\\n\\n```json\\n{\\n\\t\"name\": \"axios\", //发布的包名，默认是上级文件夹名。不得与现在npm中的包名重复。包名不能有大写字母/空格/下滑线!\\n  \"version\": \"2.2.2\",//你这个包的版本，默认是1.0.0。对于npm包的版本号有着一系列的规则，模块的版本号采用X.Y.Z的格式，具体体现为：\\n  1、修复bug，小改动，增加z。\\n  2、增加新特性，可向后兼容，增加y\\n  3、有很大的改动，无法向下兼容,增加x\\n  \"description\": \"用来请求接口，懂了吗二货\", // 介绍\\n  \"main\": \"index.js\",// 入口文件，默认是Index.js，可以修改成自己的文件,这个很重要，当你在实际项目使用的时候，let a = require(\"包名\")，它就去会去找对应的文件路径哦。\\n  \"scripts\": {                  // 快捷命令，在package.json同目录下输入命令 npm run 键 就会执行 相对应的命令\\n    \"bulid\": \"npx webpack --config myConfig.js\",\\n  \\t\"start\": \"xxx\",\\n  \\t//例如 输入 npm run bulid 就会执行npx webpack --config myConfig.js的命令 。\\n  \\t// npm start 省略run\\n  },\\n  \"keywords\": [],\\n  \"author\": \"王二蛋\",\\n  \"license\": \"ISC\",// 这个直接回车，开源文件协议吧，也可以是MIT，看需要吧。\\n  \"dependencies\": {             // 生产环境所依赖的包\\n    \"jquery\": \"^3.4.1\",\\n    \"sea\": \"^1.0.2\"\\n  },\\n  \"devDependencies\": {          // 开发环境所依赖的包\\n    \"webpack\": \"^4.41.6\"\\n  }\\n}\\n```\\n\\n\\n\\n# 更改npm默认的下载路径和缓存路径\\n\\nnpm config ls 命令可查看npm的安装信息以及默认的下载路径。\\n\\n\\n\\n```bash\\nD:\\\\software\\\\cmder\\\\cmder>npm config ls\\n; cli configs\\nmetrics-registry = \"https://registry.npmjs.org/\"\\nscope = \"\"\\nuser-agent = \"npm/6.13.4 node/v12.14.0 win32 x64\"\\n\\n; builtin config undefined\\nprefix = \"C:\\\\\\\\Users\\\\\\\\DELL\\\\\\\\AppData\\\\\\\\Roaming\\\\\\\\npm\"\\n\\n; node bin location = D:\\\\SoftWareInstall\\\\nodejsIns\\\\node.exe\\n; cwd = D:\\\\software\\\\cmder\\\\cmder\\n; HOME = C:\\\\Users\\\\DELL\\n; \"npm config ls -l\" to show all defaults.\\n```\\n\\n注意，npm默认的下载路径在C:\\\\Users\\\\DELL\\\\AppData\\\\Roaming\\\\npm，其中AppData是隐藏文件夹，在【查看】菜单中勾选【隐藏的项目】才可以看到AppData文件夹。\\n\\n???\\n\\n```java\\n// 更改npm默认的缓存路径\\nnpm config set cache \"D:\\\\TempDate\\\\nodedata\\\\cache\"\\n\\n// 更改npm默认的下载路径\\nnpm config set prefix \"D:\\\\TempDate\\\\nodedata\\\\download\"\\n```\\n\\n更改缓存路径和下载路径后，再次查看\\n\\n\\n\\n```java\\nD:\\\\software\\\\cmder\\\\cmder>npm config ls\\n\\n; userconfig C:\\\\Users\\\\DELL\\\\.npmrc\\ncache = \"D:\\\\\\\\TempDate\\\\\\\\nodedata\\\\\\\\cache\"\\nprefix = \"D:\\\\\\\\TempDate\\\\\\\\nodedata\\\\\\\\download\"\\n```\\n\\n\\n\\n那么下面来介绍一下,如何创建自己的第一个node模块,并把这个模块上传到npm上面,让别人可以用我们的模块\\n# 创建第一个node模块\\n\\nNode.js模块就是发布到npm的代码包，\\n\\n> 创建一个新模块的第一步就是创建一个package.json文件。\\n> 你可以用npm init来创建package.json文件。\\n> 这个过程中命令行会逐步提示你输入这个模块的信息，\\n> 其中模块的名字和版本号是必填项\\n\\n\\n> 你还需要一个入口文件，\\n> 如果你使用默认值的话，那就会是index.js.\\n> 创建完package.json文件之后，你就要开始写代码包里的内容了，\\n> 这里举个最简单的例子，在默认的index.js里写一个要导出的函数，\\n> 这个函数也就是别人的代码里可以import或者require的。\\n\\n```jsx\\nexports.showMsg = function () {\\n  console.log(\"This is my first module\");\\n};\\n```\\n\\n这样的话,你的node模块就已经创建完成了\\n\\n### 如何发布到npm服务器上\\n\\n##### 注册一个npm账号\\n\\n##### 首次需要登录,**npm login** 存储证书到本地,后面就不需要每次都登录的\\n\\n登录需要输入用户名,密码,还有邮箱,这些都是刚刚注册时候填写的\\nUserName： (*******)\\nPassword： (*******)\\nEmial： (*******)\\n\\n##### 开始发布\\n\\n**npm publish** 发布包\\n\\n> 使用 cnpm 的注意报错：\\n> no_perms Private mode enable, only admin can publish this module\\n> 设置回原本的就可以了\\n> **npm config set registry [http://registry.npmjs.org](https://link.jianshu.com?t=http://registry.npmjs.org) **\\n> 发布完成之后,如果还想回到之前的cnpm,使用下面的命令\\n> **npm config set registry [https://registry.npm.taobao.org](https://link.jianshu.com?t=https://registry.npm.taobao.org)**\\n\\n### 创建一个案例,引用刚上传的包\\n\\n​\\t\\n\\n> 假设已经成功发布了，并且包名叫做**toniqian-test-module**，\\n> 这时候可以新建一个空目录，cd进去，运行npm install toniqian-test-module，然后在这个目录下会出现一个叫node_modules的文件夹，你之前写的包就会出现在这个文件夹下面。\\n\\n然后写一个index.js,代码如下\\n\\n\\n\\n```jsx\\nvar test = require(\\'toniqian-test-module\\');\\ntest.showMsg();\\n```\\n\\n运行index.js\\n\\n\\n\\n```css\\nnode index.js\\n```\\n\\n那么刚刚上传的包,目前已经可以使用,到目前的话,\\n你已经成功创建了一个npm包了\\n\\n### 如何更新npm包\\n\\n当你包的内容修改之后,比如\\n\\n\\n\\n```jsx\\nexports.showMsg = function () {\\n  console.log(\"This is my second module\");\\n};\\n```\\n\\n> 修改了提示文字,那么我们需要 **npm version <update_type>**\\n> **update_type**就是版本号的意思,会自动更新**package.json**里面的版本号\\n> 然后重新 **npm publish**,更新就会完成\\n\\n**作业** 实现一个相对时间转换函数\\n\\n```jsx\\nmoment(time){\\n  // 相对时间转换\\n}\\n```\\n\\n### 如何删除npm包\\n\\n```\\nnpm unpublish kk-a-test --force\\n```\\n\\n### 查看当前登录的npm账号\\n\\n```\\nnpm whoami\\n```\\n\\n输出 username\\n\\n# **发布包错误集锦**\\n\\n1、需要提高版本号\\n\\n\\n\\n```ruby\\n#1、发包 npm publish 失败\\nsh-neverleave:z-tool neverleave$ npm publish\\nnpm ERR! publish Failed PUT 400\\nnpm ERR! code E400\\nnpm ERR! deprecations must be strings : z-tool\\n\\nnpm ERR! A complete log of this run can be found in:\\nnpm ERR!     /Users/neverleave/.npm/_logs/2018-11-23T10_52_01_742Z-debug.log\\nsh-neverleave:z-tool neverleave$ npm publish\\n\\n\\n#2、发包 npm publish 失败\\nsh-neverleave:z-tool neverleave$ npm publish\\nnpm ERR! publish Failed PUT 403\\nnpm ERR! code E403\\nnpm ERR! You cannot publish over the previously published versions: 1.0.3. : z-tool\\n\\nnpm ERR! A complete log of this run can be found in:\\nnpm ERR!     /Users/neverleave/.npm/_logs/2018-11-23T11_24_57_662Z-debug.log\\nsh-neverleave:z-tool neverleave$ \\n```\\n\\n2、发包 npm publish 失败\\n 解决方案：终端执行： npm publish --access public\\n\\n参考：https://stackoverflow.com/questions/53420758/npm-publish-gives-unscoped-packages-cannot-be-private\\n\\n\\n\\n```ruby\\n#1、发包 npm publish 失败\\nsh-neverleave:npm neverleave$ npm publish\\nnpm ERR! publish Failed PUT 400\\nnpm ERR! code E400\\nnpm ERR! unscoped packages cannot be private : z-tool\\n\\nnpm ERR! A complete log of this run can be found in:\\nnpm ERR!     /Users/neverleave/.npm/_logs/2018-11-23T08_44_21_310Z-debug.log\\nsh-neverleave:npm neverleave$ \\n\\n#解决方案：终端执行： npm publish --access public\\nsh-neverleave:npm neverleave$ npm publish --access public\\n+ z-tool@1.0.0\\nsh-neverleave:npm neverleave$ \\n```\\n\\n3、确保登录的用户账号正确\\n\\n\\n\\n```swift\\nsh-neverleave:npm neverleave$ npm publish\\nnpm ERR! publish Failed PUT 404\\nnpm ERR! code E404\\nnpm ERR! 404 User not found : z-tool\\nnpm ERR! 404 \\nnpm ERR! 404  \\'z-tool\\' is not in the npm registry.\\nnpm ERR! 404 You should bug the author to publish it (or use the name yourself!)\\nnpm ERR! 404 \\nnpm ERR! 404 Note that you can also install from a\\nnpm ERR! 404 tarball, folder, http url, or git url.\\n\\nnpm ERR! A complete log of this run can be found in:\\nnpm ERR!     /Users/neverleave/.npm/_logs/2018-11-23T07_32_28_518Z-debug.log\\n```\\n\\n4、登录时需要在username 前加‘~’，具体大家可以验证\\n\\n\\n\\n```kotlin\\nsh-neverleave:npm neverleave$ npm login\\nUsername: (~neverleave) neverleave\\nPassword: (<default hidden>) \\nEmail: (this IS public) (1063588359@qq.com) \\nnpm ERR! code EAUTHIP\\nnpm ERR! Unable to authenticate, need: Basic\\n\\nnpm ERR! A complete log of this run can be found in:\\nnpm ERR!     /Users/neverleave/.npm/_logs/2018-11-23T07_27_50_877Z-debug.log\\nsh-neverleave:npm neverleave$ \\n```\\n\\n5、无权限删除线上的包（撤包有时间限制，24小时）\\n 解决方案：加上 --force\\n\\n\\n\\n```bash\\nsh-neverleave:z-tool neverleave$ npm unpublish z-tool\\nnpm ERR! Refusing to delete entire project.\\nnpm ERR! Run with --force to do this.\\nnpm ERR! npm unpublish [<@scope>/]<pkg>[@<version>]\\nsh-neverleave:z-tool neverleave$ \\n\\n#解决方案（内部有被鄙视的话，😄 I sure hope you know what you are doing.）\\nsh-neverleave:z-tool neverleave$ npm unpublish z-tool --force\\nnpm WARN using --force I sure hope you know what you are doing.\\n- z-tool\\nsh-neverleave:z-tool neverleave$ \\n```\\n\\n6、删除npm市场的包同名的24小时后才能重新发布\\n\\n\\n\\n```ruby\\nsh-neverleave:z-tool neverleave$ npm publish\\nnpm ERR! publish Failed PUT 403\\nnpm ERR! code E403\\nnpm ERR! z-tool cannot be republished until 24 hours have passed. : z-tool\\n\\nnpm ERR! A complete log of this run can be found in:\\nnpm ERR!     /Users/neverleave/.npm/_logs/2018-11-23T11_41_24_086Z-debug.log\\nsh-neverleave:z-tool neverleave$ \\n```\\n\\n',\r\n\t\t\ttag_ids: '[\"6809637769959178254\",\"6809637767543259144\",\"6809635626879549454\"]',\r\n\t\t\ttitle: '如何发布npm包',\r\n\t\t\tarticle_id: '3a852300950ab2f1ce5b6e06b584164a',\r\n\t\t\tcreate_time: '1611151555442',\r\n\t\t\tupdate_time: '1611151555442',\r\n\t\t},\r\n\t],\r\n\tmessage: '获取成功',\r\n\tsysTime: 1611731074902,\r\n};\r\n","import React, { Component } from 'react';\r\nimport './index.css';\r\nexport default class LoadingComponent extends Component {\r\n\tstate = {\r\n\t\tshow: true,\r\n\t};\r\n\ttoggle() {\r\n\t\tthis.setState({ show: !this.state.show });\r\n\t}\r\n\trender() {\r\n\t\tlet { show } = this.state;\r\n\t\treturn (\r\n\t\t\tshow && (\r\n\t\t\t\t<div className=\"loading\">\r\n\t\t\t\t\t<span></span>\r\n\t\t\t\t\t<span></span>\r\n\t\t\t\t\t<span></span>\r\n\t\t\t\t\t<span></span>\r\n\t\t\t\t\t<span></span>\r\n\t\t\t\t\t<span></span>\r\n\t\t\t\t\t<span></span>\r\n\t\t\t\t</div>\r\n\t\t\t)\r\n\t\t);\r\n\t}\r\n}\r\n","import React, { Component } from 'react';\r\nimport HeaderComponent from '../../components/pageHeader';\r\nimport { response } from '../../response';\r\nimport './home.css';\r\nimport LodingComponent from '../../components/loading';\r\nexport default class HomePage extends Component {\r\n\tloding;\r\n\tcomponentDidMount() {\r\n\t\tthis.loding.toggle();\r\n\t\tdocument.addEventListener('visibilitychange', () => {\r\n\t\t\tif (document.hidden) {\r\n\t\t\t\tdocument.title = '你怎么走啦~';\r\n\t\t\t} else {\r\n\t\t\t\tdocument.title = \"李子发的个人网站 - zifa.li's Personal Website\";\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\tjump(data) {\r\n\t\tlet { history } = this.props;\r\n\t\thistory.push(`/post/${data.article_id}`);\r\n\t}\r\n\trender() {\r\n\t\treturn (\r\n\t\t\t<>\r\n\t\t\t\t<HeaderComponent />\r\n\t\t\t\t<LodingComponent\r\n\t\t\t\t\tref={(child) => {\r\n\t\t\t\t\t\tthis.loding = child;\r\n\t\t\t\t\t}}\r\n\t\t\t\t/>\r\n\t\t\t\t<section id=\"main\" className=\"home-page\">\r\n\t\t\t\t\t<div className=\"notice \">The Harder You Work , The Luckier You Will Be .</div>\r\n\t\t\t\t\t<div className=\"container \">\r\n\t\t\t\t\t\t<h1 className=\"label-title\">聚焦</h1>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className=\"container swiper-container\">\r\n\t\t\t\t\t\t<div className=\"swiper\">\r\n\t\t\t\t\t\t\t<div className=\"item\" onClick={this.jump.bind(this, response.data[0])}>\r\n\t\t\t\t\t\t\t\t<div className=\"mask\">\r\n\t\t\t\t\t\t\t\t\t<span className=\"foverlay\">开发中</span>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<img src={require('../../assets/feature1.jpg').default} alt=\"11\" />\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div className=\"item\" onClick={this.jump.bind(this, response.data[0])}>\r\n\t\t\t\t\t\t\t\t<div className=\"mask\">\r\n\t\t\t\t\t\t\t\t\t<span className=\"foverlay\">开发中</span>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<img src={require('../../assets/feature2.jpg').default} alt=\"11\" />\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div className=\"item\" onClick={this.jump.bind(this, response.data[0])}>\r\n\t\t\t\t\t\t\t\t<div className=\"mask\">\r\n\t\t\t\t\t\t\t\t\t<span className=\"foverlay\">开发中</span>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<img src={require('../../assets/feature3.jpg').default} alt=\"11\" />\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div className=\"item wap\" onClick={this.jump.bind(this, response.data[0])}>\r\n\t\t\t\t\t\t\t\t<div className=\"mask\">\r\n\t\t\t\t\t\t\t\t\t<span className=\"foverlay\">开发中</span>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<img src={require('../../assets/feature1.jpg').default} alt=\"11\" />\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div className=\"item wap\" onClick={this.jump.bind(this, response.data[0])}>\r\n\t\t\t\t\t\t\t\t<div className=\"mask\">\r\n\t\t\t\t\t\t\t\t\t<span className=\"foverlay\">开发中</span>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<img src={require('../../assets/feature2.jpg').default} alt=\"11\" />\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className=\"container\">\r\n\t\t\t\t\t\t<h2 className=\"main-title\">近况</h2>\r\n\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t{response.data.map((item, index) => {\r\n\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t<div className=\"post-list\" key={index}>\r\n\t\t\t\t\t\t\t\t\t\t<h1 className=\"entry-title\" onClick={this.jump.bind(this, item)}>\r\n\t\t\t\t\t\t\t\t\t\t\t{item.title}\r\n\t\t\t\t\t\t\t\t\t\t</h1>\r\n\t\t\t\t\t\t\t\t\t\t<p>{item.rief_content}</p>\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"infos\">\r\n\t\t\t\t\t\t\t\t\t\t\t<i className=\"icon iconfont iconfont lphva-icon-fabu2\"></i>\r\n\t\t\t\t\t\t\t\t\t\t\t2019年12月\r\n\t\t\t\t\t\t\t\t\t\t\t<i className=\"icon iconfont lphva-icon-gengduo1\"></i>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</section>\r\n\t\t\t</>\r\n\t\t);\r\n\t}\r\n}\r\n","import React, { Component } from 'react';\r\nimport HeaderComponent from '../../components/pageHeader';\r\nimport './detail.css';\r\nimport { response } from '../../response';\r\nconst ReactMarkdown = require('react-markdown');\r\n\r\nexport default class DetailPage extends Component {\r\n\tstate = {\r\n\t\tinfos: {},\r\n\t};\r\n\tcomponentDidMount() {\r\n\t\tlet { match } = this.props;\r\n\t\tlet { id } = match.params;\r\n\t\tlet infos = response.data.find((v) => v.article_id === id);\r\n\t\tthis.setState({ infos }, () => {\r\n\t\t\tlet { infos } = this.state;\r\n\t\t\tdocument.title = infos.title || '404页面';\r\n\t\t\tdocument.addEventListener('visibilitychange', () => {\r\n\t\t\t\tif (document.hidden) {\r\n\t\t\t\t\tdocument.title = '你怎么走啦~';\r\n\t\t\t\t} else {\r\n\t\t\t\t\tdocument.title = infos.title;\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t\twindow.scrollTo(0, 0);\r\n\t\t});\r\n\t}\r\n\trenderContent() {\r\n\t\tlet { infos } = this.state;\r\n\t\treturn (\r\n\t\t\t<>\r\n\t\t\t\t<div id=\"main\" className=\"detail\">\r\n\t\t\t\t\t<div className=\"container markdown-body\">\r\n\t\t\t\t\t\t<ReactMarkdown source={infos.mark_content} />\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</>\r\n\t\t);\r\n\t}\r\n\tonClick = () => {\r\n\t\talert(1);\r\n\t};\r\n\trender() {\r\n\t\treturn (\r\n\t\t\t<>\r\n\t\t\t\t<HeaderComponent />\r\n\t\t\t\t{this.renderContent()}\r\n\t\t\t</>\r\n\t\t);\r\n\t}\r\n}\r\n","import React, { Component } from 'react';\r\n\r\nexport default class BackTopComponent extends Component {\r\n\tcomponentDidMount() {\r\n\t\tconst scrollBtn = document.getElementById('backTop');\r\n\t\twindow.addEventListener('scroll', scrollFunc, false);\r\n\t\tscrollBtn.addEventListener('click', moveFunc, false);\r\n\t\tfunction scrollFunc() {\r\n\t\t\tlet scrollTop = document.body.scrollTop || document.documentElement.scrollTop;\r\n\t\t\tif (scrollTop > 100) {\r\n\t\t\t\tscrollBtn.style.display = 'block';\r\n\t\t\t} else {\r\n\t\t\t\tscrollBtn.style.display = 'none';\r\n\t\t\t}\r\n\t\t}\r\n\t\tfunction moveFunc(number = 0, time) {\r\n\t\t\tif (!time) {\r\n\t\t\t\tdocument.body.scrollTop = document.documentElement.scrollTop = number;\r\n\t\t\t\treturn number;\r\n\t\t\t}\r\n\t\t\tconst spacingTime = 20; // 设置循环的间隔时间  值越小消耗性能越高\r\n\t\t\tlet spacingInex = time / spacingTime; // 计算循环的次数\r\n\t\t\tlet nowTop = document.body.scrollTop + document.documentElement.scrollTop; // 获取当前滚动条位置\r\n\t\t\tlet everTop = (number - nowTop) / spacingInex; // 计算每次滑动的距离\r\n\t\t\tlet scrollTimer = setInterval(() => {\r\n\t\t\t\tif (spacingInex > 0) {\r\n\t\t\t\t\tspacingInex--;\r\n\t\t\t\t\tmoveFunc((nowTop += everTop));\r\n\t\t\t\t} else {\r\n\t\t\t\t\tclearInterval(scrollTimer); // 清除计时器\r\n\t\t\t\t}\r\n\t\t\t}, spacingTime);\r\n\t\t}\r\n\t}\r\n\trender() {\r\n\t\treturn (\r\n\t\t\t<div className=\"back-top\" id=\"backTop\">\r\n\t\t\t\t<i className=\"icon iconfont lphva-icon-fanhuidingbu\"></i>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n","import React, { Component } from 'react';\r\nimport ClipboardJS from 'clipboard';\r\nexport default class FollowComponent extends Component {\r\n\tstate = {\r\n\t\tinfos: {\r\n\t\t\tnickname: '小书包',\r\n\t\t\twechat: 'lizifa2013',\r\n\t\t},\r\n\t};\r\n\tonClick = () => {\r\n\t\talert('正在努力创作~');\r\n\t};\r\n\tcopy() {\r\n\t\twindow.toast('微信号已复制~');\r\n\t\tlet { infos } = this.state;\r\n\t\tlet clipboard = new ClipboardJS('.btn', {\r\n\t\t\ttext() {\r\n\t\t\t\treturn infos.wechat;\r\n\t\t\t},\r\n\t\t});\r\n\t\tclipboard.on('success', () => {\r\n\t\t\t// alert('微信号已复制~');\r\n\t\t\tclipboard.destroy();\r\n\t\t});\r\n\t\tclipboard.on('error', () => {\r\n\t\t\tclipboard.destroy();\r\n\t\t});\r\n\t}\r\n\trender() {\r\n\t\tlet { infos } = this.state;\r\n\t\treturn (\r\n\t\t\t<div id=\"follow-me\">\r\n\t\t\t\t<div className=\"flex-left\">\r\n\t\t\t\t\t<div className=\"icon-box\">\r\n\t\t\t\t\t\t<span className=\"icon iconfont lphva-icon-weixin\"></span>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className=\"content\">\r\n\t\t\t\t\t\t<div className=\"nickname\">{infos.nickname}</div>\r\n\t\t\t\t\t\t<div className=\"wechat\">{infos.wechat}</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className=\"flex-right\">\r\n\t\t\t\t\t<div className=\"add_button btn\" onClick={this.copy.bind(this)}>\r\n\t\t\t\t\t\t加我\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n","import React, { Component } from 'react';\r\nimport './index.css';\r\n\r\nexport default class ToastComponent extends Component {\r\n\tstate = {\r\n\t\tmessage: '',\r\n\t\tshowToast: false,\r\n\t};\r\n\tcomponentDidMount() {\r\n\t\twindow.toast = this.toast.bind(this);\r\n\t}\r\n\ttoast(message = '操作成功~') {\r\n\t\tthis.setState({ message, showToast: true });\r\n\t\tdocument.body.classList.add('lock-body');\r\n\t}\r\n\tclose() {\r\n\t\tthis.setState({ showToast: false });\r\n\t\tdocument.body.classList.remove('lock-body');\r\n\t}\r\n\trender() {\r\n\t\tlet { message, showToast } = this.state;\r\n\t\treturn (\r\n\t\t\t<div id=\"toast\" className={`toast ${showToast ? 'toast--open' : ''}`}>\r\n\t\t\t\t<div className=\"toast__overlay\"></div>\r\n\t\t\t\t<div className=\"toast__content\">\r\n\t\t\t\t\t<h2>{message}</h2>\r\n\t\t\t\t\t<div className=\"footer\">\r\n\t\t\t\t\t\t<div className=\"action\" onClick={this.close.bind(this)}>\r\n\t\t\t\t\t\t\t确定\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n","import React from 'react';\r\nimport { render } from 'react-dom';\r\nimport { BrowserRouter as Router, Route } from 'react-router-dom';\r\nimport Home from './pages/home';\r\nimport Detail from './pages/detail';\r\nimport './App.css';\r\nimport BackTopComponent from './components/backTop';\r\nimport FollowComponent from './components/follow';\r\n// import LoadingComponent from './components/loading';\r\nimport ToastComponent from './components/toast';\r\n\r\nrender(\r\n\t<React.StrictMode>\r\n\t\t<Router>\r\n\t\t\t<FollowComponent />\r\n\t\t\t<Route path=\"/\" component={Home} exact />\r\n\t\t\t<Route path={`/post/:id`} component={Detail} exact />\r\n\t\t\t<BackTopComponent />\r\n\t\t\t{/* <LoadingComponent /> */}\r\n\t\t\t<ToastComponent />\r\n\t\t</Router>\r\n\t</React.StrictMode>,\r\n\tdocument.getElementById('xiaoshubao')\r\n);\r\n","export default __webpack_public_path__ + \"static/media/feature1.58db9533.jpg\";","export default __webpack_public_path__ + \"static/media/feature2.1c6e6613.jpg\";","export default __webpack_public_path__ + \"static/media/20210105231911.f3f51a2e.jpg\";","export default __webpack_public_path__ + \"static/media/favicon.c0aac49a.ico\";","export default __webpack_public_path__ + \"static/media/sf.1b9a424b.ico\";","export default __webpack_public_path__ + \"static/media/feature3.e60e6339.jpg\";"],"sourceRoot":""}